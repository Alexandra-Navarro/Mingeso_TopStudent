<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lista de Pruebas | TopEducation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>

<header class="header">
    <div class="logo">
        <h1>TopEducation</h1>
    </div>
    <nav>
    <a class="btn btn-primary" href="/ingresarPrueba" role="button">Ingresar Nueva Prueba</a>
    </nav>

</header>

<div class="container">
    <h2>Lista de Pruebas</h2>
    <table class="table table-striped table-bordered">
        <thead class="table-dark">
        <tr>
            <th>Rut</th>
            <th>Asignatura</th>
            <th>Fecha de Rendici√≥n</th>
            <th>Puntaje Obtenido</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="prueba : ${prueba}">
            <td th:text="${prueba.rutEstudiante}"></td>
            <td th:text="${prueba.asignaturaExamen}"></td>
            <td th:text="${prueba.fechaExamen}"></td>
            <td th:text="${prueba.puntajeObtenido}"></td>
<!--            <td>-->
<!--                <a class="btn btn-success" th:href="@{'/exportarExcel/' + ${prueba.fechaExamen}}" role="button">Exportar a Excel</a>-->
<!--            </td>-->
        </tr>
        </tbody>
    </table>
</div>

<div class="container">
    <h2>Seleccionar Fecha para Exportar a Excel</h2>
    <div class="form-group">
        <label for="fecha">Selecciona la Fecha:</label>
        <input type="date" id="fecha" name="fecha" class="form-control" required>
    </div>
    <a class="btn btn-success" id="generateExcel" role="button">Generar Excel</a>
</div>

<script>
    document.getElementById('generateExcel').addEventListener('click', function () {
        const selectedDate = document.getElementById('fecha').value;
        window.location.href = '/exportarExcel/' + selectedDate;
    });
</script>
</body>
</html>
